"use strict";(self.webpackChunkcreate_wasm_app=self.webpackChunkcreate_wasm_app||[]).push([[237],{235:(t,e,n)=>{n.a(t,(async(t,i)=>{try{n.d(e,{Nj:()=>s.Nj});var r=n(161),s=n(813),a=t([r]);r=(a.then?(await a)():a)[0],(0,s.lI)(r),i()}catch(t){i(t)}}))},813:(t,e,n)=>{let i;function r(t){i=t}n.d(e,{BZ:()=>P,D1:()=>q,DI:()=>nt,FJ:()=>st,Gu:()=>H,H0:()=>N,J1:()=>et,KN:()=>G,Mq:()=>rt,NL:()=>W,Nj:()=>v,O9:()=>K,OL:()=>ot,PR:()=>B,Py:()=>lt,QR:()=>j,Qg:()=>F,Qn:()=>ht,Rj:()=>R,V5:()=>C,VF:()=>L,Xu:()=>T,bk:()=>S,cA:()=>O,cl:()=>D,hH:()=>it,hW:()=>M,h_:()=>z,jF:()=>Z,kn:()=>tt,lI:()=>r,nq:()=>ct,qv:()=>E,rl:()=>_t,s:()=>$,sd:()=>Q,tM:()=>V,tn:()=>X,u$:()=>x,vS:()=>U,vU:()=>Y,wR:()=>at,xN:()=>J,yc:()=>I}),t=n.hmd(t);const s=new Array(128).fill(void 0);function a(t){return s[t]}s.push(void 0,null,!0,!1);let o=s.length;function c(t){const e=a(t);return function(t){t<132||(s[t]=o,o=t)}(t),e}function _(t){o===s.length&&s.push(s.length+1);const e=o;return o=s[e],s[e]=t,e}let h=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});h.decode();let l=null;function u(){return null!==l&&0!==l.byteLength||(l=new Uint8Array(i.memory.buffer)),l}function d(t,e){return t>>>=0,h.decode(u().subarray(t,t+e))}function g(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=g(t[0]));for(let i=1;i<e;i++)n+=", "+g(t[i]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(!(n.length>1))return toString.call(t);if(i=n[1],"Object"==i)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:i}let f=0,b=new("undefined"==typeof TextEncoder?(0,t.require)("util").TextEncoder:TextEncoder)("utf-8");const w="function"==typeof b.encodeInto?function(t,e){return b.encodeInto(t,e)}:function(t,e){const n=b.encode(t);return e.set(n),{read:t.length,written:n.length}};function y(t,e,n){if(void 0===n){const n=b.encode(t),i=e(n.length,1)>>>0;return u().subarray(i,i+n.length).set(n),f=n.length,i}let i=t.length,r=e(i,1)>>>0;const s=u();let a=0;for(;a<i;a++){const e=t.charCodeAt(a);if(e>127)break;s[r+a]=e}if(a!==i){0!==a&&(t=t.slice(a)),r=n(r,i,i=a+3*t.length,1)>>>0;const e=u().subarray(r+a,r+i);a+=w(t,e).written,r=n(r,i,a,1)>>>0}return f=a,r}let p=null;function m(){return(null===p||!0===p.buffer.detached||void 0===p.buffer.detached&&p.buffer!==i.memory.buffer)&&(p=new DataView(i.memory.buffer)),p}function A(t,e){try{return t.apply(this,e)}catch(t){i.__wbindgen_exn_store(_(t))}}const k="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>i.__wbg_sorting_free(t>>>0,1)));class v{static __wrap(t){t>>>=0;const e=Object.create(v.prototype);return e.__wbg_ptr=t,k.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),t}free(){const t=this.__destroy_into_raw();i.__wbg_sorting_free(t,0)}static new(t){const e=i.sorting_new(t);return v.__wrap(e)}size(){return i.sorting_size(this.__wbg_ptr)>>>0}values(){return c(i.sorting_values(this.__wbg_ptr))}operation(){return c(i.sorting_operation(this.__wbg_ptr))}reads(){return i.sorting_reads(this.__wbg_ptr)>>>0}writes(){return i.sorting_writes(this.__wbg_ptr)>>>0}compares(){return i.sorting_compares(this.__wbg_ptr)>>>0}swaps(){return i.sorting_swaps(this.__wbg_ptr)>>>0}tick(){return 0!==i.sorting_tick(this.__wbg_ptr)}flush(){i.sorting_flush(this.__wbg_ptr)}frame(t){return 0!==i.sorting_frame(this.__wbg_ptr,t)}resetStats(){i.sorting_resetStats(this.__wbg_ptr)}bubble(){i.sorting_bubble(this.__wbg_ptr)}selection(){i.sorting_selection(this.__wbg_ptr)}cocktail(){i.sorting_cocktail(this.__wbg_ptr)}insertion(){i.sorting_insertion(this.__wbg_ptr)}gnome(){i.sorting_gnome(this.__wbg_ptr)}cycle(){i.sorting_cycle(this.__wbg_ptr)}heap(){i.sorting_heap(this.__wbg_ptr)}shell(){i.sorting_shell(this.__wbg_ptr)}oddEven(){i.sorting_oddEven(this.__wbg_ptr)}quickSort(){i.sorting_quickSort(this.__wbg_ptr)}shuffle(){i.sorting_shuffle(this.__wbg_ptr)}reverse(){i.sorting_reverse(this.__wbg_ptr)}}function S(t){c(t)}function C(){return _(new Error)}function x(t,e){const n=y(a(e).stack,i.__wbindgen_malloc,i.__wbindgen_realloc),r=f;m().setInt32(t+4,r,!0),m().setInt32(t+0,n,!0)}function T(t,e){let n,r;try{n=t,r=e,console.error(d(t,e))}finally{i.__wbindgen_free(n,r,1)}}function P(t){return _(a(t))}function E(t){const e=a(t);return"object"==typeof e&&null!==e}function R(t,e){return _(new Error(d(t,e)))}function j(t){return _(t)}function F(t){return _(BigInt.asUintN(64,t))}function I(t,e){return _(d(t,e))}function N(t,e,n){a(t)[c(e)]=c(n)}function z(t){return _(a(t).crypto)}function O(t){return _(a(t).process)}function q(t){return _(a(t).versions)}function W(t){return _(a(t).node)}function H(t){return"string"==typeof a(t)}function $(){return A((function(){return _(t.require)}),arguments)}function D(t){return _(a(t).msCrypto)}function M(){return A((function(t,e){a(t).randomFillSync(c(e))}),arguments)}function L(){return A((function(t,e){a(t).getRandomValues(a(e))}),arguments)}function U(){return _(new Array)}function B(t){return"function"==typeof a(t)}function J(t,e){return _(new Function(d(t,e)))}function V(){return A((function(t,e){return _(a(t).call(a(e)))}),arguments)}function Q(){return _(new Object)}function G(){return A((function(){return _(self.self)}),arguments)}function K(){return A((function(){return _(window.window)}),arguments)}function X(){return A((function(){return _(globalThis.globalThis)}),arguments)}function Z(){return A((function(){return _(n.g.global)}),arguments)}function Y(t){return void 0===a(t)}function tt(t,e,n){a(t)[e>>>0]=c(n)}function et(){return A((function(t,e,n){return _(a(t).call(a(e),a(n)))}),arguments)}function nt(t){return _(a(t).buffer)}function it(t,e,n){return _(new Uint8Array(a(t),e>>>0,n>>>0))}function rt(t){return _(new Uint8Array(a(t)))}function st(t,e,n){a(t).set(a(e),n>>>0)}function at(t,e,n){return _(new Uint16Array(a(t),e>>>0,n>>>0))}function ot(t){return _(new Uint8Array(t>>>0))}function ct(t,e,n){return _(a(t).subarray(e>>>0,n>>>0))}function _t(t,e){const n=y(g(a(e)),i.__wbindgen_malloc,i.__wbindgen_realloc),r=f;m().setInt32(t+4,r,!0),m().setInt32(t+0,n,!0)}function ht(t,e){throw new Error(d(t,e))}function lt(){return _(i.memory)}},237:(t,e,n)=>{n.a(t,(async(t,i)=>{try{n.r(e);var r=n(982),s=t([r]);r=(s.then?(await s)():s)[0];const a={initial:"shuffled",size:512,sortTime:10,algorithm:"bubble"},o=d("canvas"),c=d("settings"),_=[d("play-pause"),d("next-tick"),d("reset"),d("share")],h=[d("reads"),d("writes"),d("compares"),d("swaps"),d("operation"),d("fps")],l=Array.from([d("initial"),d("size"),d("sort-time"),d("algorithm")]),u=new r.A({settingsConfig:a,settingsWrapper:c,settings:l,controls:_,stats:h,canvas:o});function d(t){return document.getElementById(t)}window.renderer=u,i()}catch(g){i(g)}}))},982:(t,e,n)=>{n.a(t,(async(t,i)=>{try{n.d(e,{A:()=>a});var r=n(235),s=t([r]);r=(s.then?(await s)():s)[0];class a{constructor({settingsConfig:t,settingsWrapper:e,settings:n,controls:i,stats:r,canvas:s}){this.maxMobileSize=1024,this.readConfigFromHash(t),this.frame=null,this.framesCount=0,this.animationStartAt=null,this.sortState="idle",this.initCanvas(s),this.initControls(i),this.initArray(),this.initSettingsProps(e,n),this.initStats(r),this.drawSettings(),this.draw()}animate(){const t=Number(this.settingsConfig.sortTime);if(this.sortState="sorting",!this.sortArray.frame(t))return this.draw(),this.stopAnimate(),this.playPause.disabled=!0,this.next.disabled=!0,void(this.sortState="idle");this.draw(),this.framesCount++,this.frame=window.requestAnimationFrame((()=>{this.animate()}))}stopAnimate(){window.cancelAnimationFrame(this.frame),this.frame=null,this.settingsWrapper.classList.remove("disabled"),this.playPause.innerText="play_arrow",this.reset.disabled=!1,this.next.disabled=!1,this.sortState="paused"}nextTick(){if(!this.sortArray.tick())return this.playPause.disabled=!0,this.next.disabled=!0,void(this.sortState="idle");this.draw()}draw(){this.drawArray(),this.drawStats()}drawArray(){const t=this.sortArray.operation(),e=t?t.Read:null;this.ctx.clearRect(0,0,this.canvasWidth+10,this.canvasHeight+10),this.sortArray.values().forEach(((t,n)=>{n===e?this.drawArrayElement(n,t,"white"):this.drawArrayElement(n,t)}))}drawArrayElement(t,e,n=null){const i=this.hPerElement*e,r=this.wPerElement*t,s=this.canvasHeight-i,a=e/this.sortArray.size()*270;this.ctx.fillStyle=n||`hsl(${a}, 80%, 50%)`,this.ctx.fillRect(r,s,this.wPerElement,i)}drawStats(){this.reads.innerText=this.sortArray.reads(),this.writes.innerText=this.sortArray.writes(),this.compares.innerText=this.sortArray.compares(),this.swaps.innerText=this.sortArray.swaps(),this.operation.innerText=this.getOperationDesc();const t=this.animationStartAt?this.framesCount/(Date.now()-this.animationStartAt)*1e3:0;this.fps.innerText=t.toFixed(1)}drawSettings(){for(const[t,e]of Object.entries(this.settingsConfig)){const n=this.settingsProps[t];for(const t in n){const i=n[t];t==e?i.classList.remove("enabled"):i.classList.add("enabled")}}}handleInitialClick(t){this.handleSettingsClick(t,"initial")&&(this.initArrayInitial(),this.draw(),this.playPause.disabled=!1,this.next.disabled=!1)}handleSizeClick(t){this.handleSettingsClick(t,"size",!0)&&(this.initArray(),this.draw(),this.playPause.disabled=!1,this.next.disabled=!1)}handleSortTimeClick(t){this.handleSettingsClick(t,"sortTime",!0)}handleAlgorithmClick(t){this.handleSettingsClick(t,"algorithm")&&"idle"===this.sortState&&(this.initArrayInitial(),this.draw(),this.playPause.disabled=!1,this.next.disabled=!1)}handleSettingsClick(t,e,n=!1){if(!t.classList.contains("enabled")||this.frame)return!1;const i=n?Number(t.dataset.value):t.dataset.value;return this.settingsConfig={...this.settingsConfig,[e]:i},this.drawSettings(),this.setConfigToHash(),!0}handlePlayPauseClick(){this.frame?this.stopAnimate():(this.settingsWrapper.classList.add("disabled"),this.playPause.innerText="pause",this.reset.disabled=!0,this.next.disabled=!0,this.animationStartAt=Date.now(),this.framesCount=0,this.animate())}handleNextTickClick(){this.nextTick()}handleResetClick(){this.frame&&this.stopAnimate(),this.initArray(),this.draw(),this.playPause.disabled=!1}handleShareClick(){this.share.disabled=!0,navigator.clipboard.writeText(window.location.href).then((()=>{this.share.innerText="download_done"})).catch((t=>{console.error("Failed to copy link to clipboard: ",t)})).finally((()=>{setTimeout((()=>{this.share.innerText="ios_share",this.share.disabled=!1}),1e3)}))}readConfigFromHash(t){const e=window.location.hash.substring(1);if(e)try{const n=JSON.parse(decodeURIComponent(e));this.settingsConfig={...t,...n},this.isMobile()&&(this.settingsConfig.size=Math.min(this.settingsConfig.size,this.maxMobileSize),this.setConfigToHash())}catch(t){}else this.settingsConfig={...t},this.setConfigToHash()}setConfigToHash(){const t=encodeURIComponent(JSON.stringify(this.settingsConfig));window.location.hash=t}initCanvas(t){this.canvas=t,this.ctx=t.getContext("2d"),this.canvasWidth=t.width,this.canvasHeight=t.height}initControls(t){const[e,n,i,r]=t;this.playPause=e,this.next=n,this.reset=i,this.share=r}initSettingsProps(t,e){this.settingsWrapper=t;const n={};for(const t of e){const e={},i=t.dataset.key??t.id,r=Array.from(t.querySelectorAll("p"));for(const t of r)e[t.dataset.value]=t,this.isMobile()&&"size"===i&&Number(t.dataset.value)>this.maxMobileSize&&t.classList.add("mobile-hide");n[i]=e}this.settingsProps=n}initStats(t){const[e,n,i,r,s,a]=t;this.reads=e,this.writes=n,this.compares=i,this.swaps=r,this.operation=s,this.fps=a}initArray(){this.sortArray=r.Nj.new(Number(this.settingsConfig.size)),this.initArrayInitial(),this.wPerElement=this.canvasWidth/this.sortArray.size(),this.hPerElement=this.canvasHeight/this.sortArray.size()}initArrayInitial(){switch(this.settingsConfig.initial){case"shuffled":this.sortArray.shuffle();break;case"reversed":this.sortArray.reverse()}this.sortArray.flush(),this.sortArray.resetStats(),this.initAlgorithm()}initAlgorithm(){switch(this.settingsConfig.algorithm){case"bubble":this.sortArray.bubble();break;case"selection":this.sortArray.selection();break;case"cocktail":this.sortArray.cocktail();break;case"insertion":this.sortArray.insertion();break;case"gnome":this.sortArray.gnome();break;case"cycle":this.sortArray.cycle();break;case"heap":this.sortArray.heap();break;case"shell":this.sortArray.shell();break;case"oddEven":this.sortArray.oddEven();break;case"quickSort":this.sortArray.quickSort()}}getOperationDesc(){const t=this.sortArray.operation();return t&&"string"==typeof t?t:t&&t.Read?`Read(${t.Read})`:t&&t.Write?`Write(${t.Write[0]}, ${t.Write[1]})`:"-"}isMobile(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some((t=>navigator.userAgent.match(t)))}}i()}catch(t){i(t)}}))},161:(t,e,n)=>{var i=n(813);t.exports=n.v(e,t.id,"294cc667caa644ed9be8",{"./wasm_array_sort_bg.js":{__wbindgen_object_drop_ref:i.bk,__wbg_new_abda76e883ba8a5f:i.V5,__wbg_stack_658279fe44541cf6:i.u$,__wbg_error_f851667af71bcfc6:i.Xu,__wbindgen_object_clone_ref:i.BZ,__wbindgen_is_object:i.qv,__wbindgen_error_new:i.Rj,__wbindgen_number_new:i.QR,__wbindgen_bigint_from_u64:i.Qg,__wbindgen_string_new:i.yc,__wbg_set_20cbc34131e76824:i.H0,__wbg_crypto_1d1f22824a6a080c:i.h_,__wbg_process_4a72847cc503995b:i.cA,__wbg_versions_f686565e586dd935:i.D1,__wbg_node_104a2ff8d6ea03a2:i.NL,__wbindgen_is_string:i.Gu,__wbg_require_cca90b1a94a0255b:i.s,__wbg_msCrypto_eb05e62b530a1508:i.cl,__wbg_randomFillSync_5c9c955aa56b6049:i.hW,__wbg_getRandomValues_3aa56aa6edec874c:i.VF,__wbg_new_a220cf903aa02ca2:i.vS,__wbindgen_is_function:i.PR,__wbg_newnoargs_76313bd6ff35d0f2:i.xN,__wbg_call_1084a111329e68ce:i.tM,__wbg_new_525245e2b9901204:i.sd,__wbg_self_3093d5d1f7bcb682:i.KN,__wbg_window_3bcfc4d31bc012f8:i.O9,__wbg_globalThis_86b222e13bdf32ed:i.tn,__wbg_global_e5a3fe56f8be9485:i.jF,__wbindgen_is_undefined:i.vU,__wbg_set_673dda6c73d19609:i.kn,__wbg_call_89af060b4e1523f2:i.J1,__wbg_buffer_b7b08af79b0b0974:i.DI,__wbg_newwithbyteoffsetandlength_8a2cb9ca96b27ec9:i.hH,__wbg_new_ea1883e1e5e86686:i.Mq,__wbg_set_d1e79e2388520f18:i.FJ,__wbg_newwithbyteoffsetandlength_bd3d5191e8925067:i.wR,__wbg_newwithlength_ec548f448387c968:i.OL,__wbg_subarray_7c2e3576afe181d1:i.nq,__wbindgen_debug_string:i.rl,__wbindgen_throw:i.Qn,__wbindgen_memory:i.Py}})}}]);